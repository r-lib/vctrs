<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>vctr (vector) S3 class — new_vctr • vctrs</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="vctr (vector) S3 class — new_vctr" />
<meta property="og:description" content="This abstract class provides a set of useful default methods that makes it
considerably easier to get started with a new S3 vector class. See
vignette(&quot;s3-vector&quot;) to learn how to use it to create your own S3
vector classes." />
<meta property="og:image" content="https://vctrs.r-lib.org/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vctrs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.8.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pillar.html">Printing vectors nicely in tibbles</a>
    </li>
    <li>
      <a href="../articles/s3-vector.html">S3 vectors</a>
    </li>
    <li>
      <a href="../articles/stability.html">Type and size stability</a>
    </li>
    <li>
      <a href="../articles/type-size.html">Prototypes and sizes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/vctrs/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>vctr (vector) S3 class</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/vctrs/blob/master/R/type-vctr.R'><code>R/type-vctr.R</code></a></small>
    <div class="hidden name"><code>new_vctr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This abstract class provides a set of useful default methods that makes it
considerably easier to get started with a new S3 vector class. See
<code><a href='../articles/s3-vector.html'>vignette("s3-vector")</a></code> to learn how to use it to create your own S3
vector classes.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>new_vctr</span><span class='op'>(</span><span class='va'>.data</span>, <span class='va'>...</span>, class <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>, inherit_base_type <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>Foundation of class. Must be a vector</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Name-value pairs defining attributes</p></td>
    </tr>
    <tr>
      <th>class</th>
      <td><p>Name of subclass.</p></td>
    </tr>
    <tr>
      <th>inherit_base_type</th>
      <td><p><a href='https://lifecycle.r-lib.org/articles/stages.html#experimental'><img src='figures/lifecycle-experimental.svg' alt='[Experimental]' /></a>
A single logical, or <code>NULL</code>. Does this class extend the base type of
<code>.data</code>? i.e. does the resulting object extend the behaviour of the
underlying type? Defaults to <code>FALSE</code> for all types except lists, which
are required to inherit from the base type.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>List vctrs are special cases. When created through <code>new_vctr()</code>, the
resulting list vctr should always be recognized as a list by
<code><a href='vec_is_list.html'>vec_is_list()</a></code>. Because of this, if <code>inherit_base_type</code> is <code>FALSE</code>
an error is thrown.</p>
    <h2 class="hasAnchor" id="base-methods"><a class="anchor" href="#base-methods"></a>Base methods</h2>

    

<p>The vctr class provides methods for many base generics using a smaller
set of generics defined by this package. Generally, you should think
carefully before overriding any of the methods that vctrs implements for
you as they've been carefully planned to be internally consistent.</p><ul>
<li><p><code>[[</code> and <code>[</code> use <code><a href='https://rdrr.io/r/base/UseMethod.html'>NextMethod()</a></code> dispatch to the underlying base function,
then restore attributes with <code><a href='vec_proxy.html'>vec_restore()</a></code>.
<code><a href='https://rdrr.io/r/base/rep.html'>rep()</a></code> and <code>length&lt;-</code> work similarly.</p></li>
<li><p><code>[[&lt;-</code> and <code>[&lt;-</code> cast <code>value</code> to same type as <code>x</code>, then call
<code><a href='https://rdrr.io/r/base/UseMethod.html'>NextMethod()</a></code>.</p></li>
<li><p><code><a href='https://rdrr.io/r/base/logical.html'>as.logical()</a></code>, <code><a href='https://rdrr.io/r/base/integer.html'>as.integer()</a></code>, <code><a href='https://rdrr.io/r/base/numeric.html'>as.numeric()</a></code>, <code><a href='https://rdrr.io/r/base/character.html'>as.character()</a></code>,
<code><a href='https://rdrr.io/r/base/as.Date.html'>as.Date()</a></code> and <code><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct()</a></code> methods call <code><a href='vec_cast.html'>vec_cast()</a></code>.
The <code><a href='https://rdrr.io/r/base/list.html'>as.list()</a></code> method calls <code>[[</code> repeatedly, and the <code><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame()</a></code>
method uses a standard technique to wrap a vector in a data frame.</p></li>
<li><p><code><a href='https://rdrr.io/r/base/factor.html'>as.factor()</a></code>, <code><a href='https://rdrr.io/r/base/factor.html'>as.ordered()</a></code> and <code><a href='https://rdrr.io/r/base/difftime.html'>as.difftime()</a></code> are not generic functions
in base R, but have been reimplemented as generics in the <code>generics</code>
package. <code>vctrs</code> extends these and calls <code><a href='vec_cast.html'>vec_cast()</a></code>. To inherit this
behaviour in a package, import and re-export the generic of interest
from <code>generics</code>.</p></li>
<li><p><code>==</code>, <code>!=</code>, <code><a href='https://rdrr.io/r/base/unique.html'>unique()</a></code>, <code><a href='https://rdrr.io/r/base/duplicated.html'>anyDuplicated()</a></code>, and <code><a href='https://rdrr.io/r/base/NA.html'>is.na()</a></code> use
<code><a href='vec_proxy.html'>vec_proxy()</a></code>.</p></li>
<li><p><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>&gt;</code>, <code><a href='https://rdrr.io/r/base/Extremes.html'>min()</a></code>, <code><a href='https://rdrr.io/r/base/Extremes.html'>max()</a></code>, <code><a href='https://rdrr.io/r/base/range.html'>range()</a></code>, <code><a href='https://rdrr.io/r/stats/median.html'>median()</a></code>,
<code><a href='https://rdrr.io/r/stats/quantile.html'>quantile()</a></code>, and <code><a href='https://rdrr.io/r/base/xtfrm.html'>xtfrm()</a></code> methods use <code><a href='vec_proxy_compare.html'>vec_proxy_compare()</a></code>.</p></li>
<li><p><code>+</code>, <code>-</code>, <code>/</code>, <code>*</code>, <code>^</code>, <code>%%</code>, <code>%/%</code>, <code>!</code>, <code>&amp;</code>, and <code>|</code> operators
use <code><a href='vec_arith.html'>vec_arith()</a></code>.</p></li>
<li><p>Mathematical operations including the Summary group generics (<code><a href='https://rdrr.io/r/base/prod.html'>prod()</a></code>,
<code><a href='https://rdrr.io/r/base/sum.html'>sum()</a></code>, <code><a href='https://rdrr.io/r/base/any.html'>any()</a></code>, <code><a href='https://rdrr.io/r/base/all.html'>all()</a></code>), the Math group generics (<code><a href='https://rdrr.io/r/base/MathFun.html'>abs()</a></code>, <code><a href='https://rdrr.io/r/base/sign.html'>sign()</a></code>,
etc), <code><a href='https://rdrr.io/r/base/mean.html'>mean()</a></code>, <code><a href='https://rdrr.io/r/base/is.finite.html'>is.nan()</a></code>, <code><a href='https://rdrr.io/r/base/is.finite.html'>is.finite()</a></code>, and <code><a href='https://rdrr.io/r/base/is.finite.html'>is.infinite()</a></code>
use <code><a href='vec_math.html'>vec_math()</a></code>.</p></li>
<li><p><code>dims()</code>, <code>dims&lt;-</code>, <code><a href='https://rdrr.io/r/base/dimnames.html'>dimnames()</a></code>, <code>dimnames&lt;-</code>, <code><a href='https://rdrr.io/r/base/levels.html'>levels()</a></code>, and
<code>levels&lt;-</code> methods throw errors.</p></li>
</ul>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, Lionel Henry, Davis Vaughan.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


